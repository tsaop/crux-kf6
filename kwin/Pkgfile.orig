# Description: Easy to use, but flexible, X Window Manager and Wayland Compositor
# URL: https://invent.kde.org/plasma/kwin
# Maintainer: Tsaop, leeroy at cock dot li
# Depends on: attica breeze brotli dbus double-conversion fontconfig freetype glib harfbuzz karchive kauth kcmutils kcodecs kcolorscheme kconfig kconfigwidgets kcoreaddons kcrash kdbusaddons kdeclarative kdecoration kglobalaccel kglobalacceld kguiaddons ki18n kiconthemes kidletime kio kitemviews kjobwidgets knewstuff knotifications kpackage kscreenlocker kservice ksvg kwayland kwidgetsaddons kwindowsystem kxmlgui lcms2 libb2 libcanberra libdisplay-info libdrm libepoxy libglvnd libinput libogg libpng libvorbis libxkbcommon mesa mtdev pipewire plasma-activities qt6-base qt6-declarative qt6-multimedia qt6-sensors qt6-svg qt6-tools qt6-wayland solid syndication wayland xorg-libevdev xorg-libice xorg-libsm xorg-libx11 xorg-libxau xorg-libxcb xorg-libxcvt xorg-libxdmcp xorg-libxext xorg-libxfixes xorg-libxi xorg-xcb-util xorg-xcb-util-cursor xorg-xcb-util-image xorg-xcb-util-keysyms xorg-xcb-util-renderutil xorg-xcb-util-wm xorg-xwayland

name=kwin
version=6.0.1
release=1
source=(https://download.kde.org/stable/plasma/$version/$name-$version.tar.xz)

build() {
	cd $name-$version
	cmake -Bbuild \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DCMAKE_INSTALL_LIBEXECDIR=lib \
		-DBUILD_TESTING=OFF

	cmake --build build
	DESTDIR=$PKG cmake --install build

	rm -rf $PKG/usr/share/{doc,locale} \
		$PKG/usr/lib/systemd
}
