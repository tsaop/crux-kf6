# Description: Plasma applet written in QML for managing network connections
# URL: https://invent.kde.org/plasma/plasma-nm
# Maintainer: Tsaop, leeroy at cock dot li
# Depends on: brotli dbus double-conversion fontconfig freetype glib harfbuzz karchive kauth kcmutils kcodecs kcolorscheme kcompletion kconfig kconfigwidgets kcoreaddons kcrash kdbusaddons kglobalaccel kguiaddons ki18n kiconthemes kio kitemviews kjobwidgets knotifications kservice kwallet kwidgetsaddons kwindowsystem kxmlgui libb2 libcanberra libglvnd libogg libplasma libpng libvorbis libxkbcommon modemmanager-qt networkmanager networkmanager-qt nspr nss prison qca-qt6 qcoro-qt6 qt6-5compat qt6-base qt6-declarative qt6-svg qt6-wayland qt6-webengine solid wayland xorg-libx11 xorg-libxau xorg-libxcb xorg-libxdmcp xorg-libxfixes xorg-xcb-util-keysyms

name=plasma-nm
version=6.0.1
release=1
source=(https://download.kde.org/stable/plasma/$version/$name-$version.tar.xz)

build() {
	cd $name-$version
	cmake -Bbuild \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib \
		-DBUILD_TESTING=OFF

	cmake --build build
	DESTDIR=$PKG cmake --install build

	rm -rf $PKG/usr/share/locale
}
