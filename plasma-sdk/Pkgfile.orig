# Description: Applications useful for Plasma development
# URL: https://invent.kde.org/plasma/plasma-sdk
# Maintainer: Tsaop, leeroy at cock dot li
# Depends on: brotli dbus double-conversion editorconfig-core-c fontconfig freetype glib harfbuzz karchive kauth kcmutils kcodecs kcolorscheme kcompletion kconfig kconfigwidgets kcoreaddons kcrash kdbusaddons kglobalaccel kguiaddons ki18n kiconthemes kio kitemmodels kitemviews kjobwidgets knotifications kpackage kparts kservice ksvg ktexteditor ktextwidgets kwidgetsaddons kwindowsystem kxmlgui libb2 libcanberra libglvnd libogg libplasma libpng libvorbis libxkbcommon plasma-activities plasma5support qt6-5compat qt6-base qt6-declarative qt6-multimedia qt6-speech qt6-svg qt6-wayland solid sonnet syntax-highlighting wayland xorg-libice xorg-libsm xorg-libx11 xorg-libxau xorg-libxcb xorg-libxdmcp xorg-libxext xorg-libxfixes xorg-xcb-util-keysyms

name=plasma-sdk
version=6.0.1
release=1
source=(https://download.kde.org/stable/plasma/$version/$name-$version.tar.xz)

build() {
	cd $name-$version
	cmake -Bbuild \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib

	cmake --build build
	DESTDIR=$PKG cmake --install build

	rm -rf $PKG/usr/share/locale
	( cd $PKG/usr/share/man
          find . ! -path . -type d | grep -v "man[0-9]" | xargs rm -rf
        )
}
